# redis常见问题

### 1. 为什么 Redis 采用单线程？

### 2. Redis 为什么那么快？



### 3. 如果 redis 中有 10 个 key 到达了过期时间，redis 会如何处理？

- 惰性删除

  在使用 get 或 setnx 等命令访问 key 时，若发现 key 过期，将 key 删除。

- 定时删除

  redis 的定时删除，默认每隔 100 ms 执行一次（1s 执行10次），每次执行时长不超过 25 ms。会遍历所有数据库（默认 16 个），随即取出 20 个 key，删除 20 个 key 中过期的 key。若过期的 key   所占比例超过 1/4，重复操作。若整体操作时长超过默认的 25 ms，退出定期删除。

- 内存不够时删除

  在内存不足时写入数据会进行内存淘汰，而 redis 的内存淘汰策略中有针对过期 key 删除的模式。假如设置了如下的四种模式，则会按照策略删除过期的 key。

  1. volatile-lru：对所有设置了过期时间的 key 使用 LRU 算法进行删除。

  2. volatile-lfu：对所有设置了过期时间的 key 使用 LFU 算法进行删除。

  3. volatile-random ：对所有设置了过期时间的 key 随机删除。

  4. volatile-ttl：删除马上要过期的 key。

     







