# redis基础
## 简介

- Redis 是非关系型数据库、是一个高性能的 K-V 数据库。
- 支持多种数据格式，数据存储在内存上，读写性能惊人。
- Redis 还可以将内存的数据利用快照和日志的形式保存到硬盘上，在重启的时候可以重新加载数据到内存中。
- Redis 还提供了过期、事务、发布订阅、Lua 脚本等功能。

## Redis 特点

- 不仅支持简单的 K-V 数据结构，还提供了像 list、set、zset、hash 等数据结构。
- Redis 支持数据持久化，将内存中的数据持久化到磁盘。保证重启时数据的重新加载。
- 性能极高，基于内存。
- Redis 的命令都是原子性的。
- 采用单线程来避免不必要的上下文切换。
- 使用 I/O 多路复用模型。

### 单线程

首先，Redis 是完全基于内存的，基于内存操作非常快速。其次采用了单线程来避免不必要的上下文切换和竞争。

### I/O 多路复用

多路复用，这里的多路指的是多个网络连接，复用指的是复用同一个线程。意思就是可以让单个线程去处理多个连接请求，来减少在网络 IO 上的时间消耗。

### 端口号

redis 默认端口号是 **6379**

### 数据库

redis 默认拥有 16 个数据库，排列顺序类似数组下标，从 0 开始排序，默认使用的是 0 号库。

redis 数据库统一密码管理的，16 个库都是同样密码，默认不设置密码。

- 切换数据库

  ```java
  #切换到 1 号数据库
  select 1
  ```

- 查看当前数据库 key 的数量

  ```java
  dbsize
  ```

- 清空当前库

  ```java
  flushdb
  ```

- 清空所有库

  ```java
  flushall
  ```

## 环境安装

1. 安装包地址

   [官网下载地址](https://download.redis.io/releases/?_ga=2.74174546.195969673.1626310217-1876671789.1626310217)

2. 解压缩

   ```shell
   tar -zxvf redis-6.0.8.tar 
   ```

3. 编译测试

   ```java
   sudo make test
   ```

4. 安装

   ```java
   sudo make install
   ```

5. 设置后台启动

   编辑 `redis.conf `，修改如下内容。

   ```java
   #配置后台运行
   daemonize yes
   ```

6. 启动 

   ```java
   sudo redis-server redis.conf
   ```

7. 进入交互命令行

   ```
   reids-cli
   ```

